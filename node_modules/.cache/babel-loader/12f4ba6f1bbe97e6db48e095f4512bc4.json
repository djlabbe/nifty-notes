{"ast":null,"code":"import \"source-map-support/register\";\nimport * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport { success, failure } from \"./libs/response-lib\";\nexport async function main(event, context) {\n  const params = {\n    TableName: \"notes\",\n    KeyConditionExpression: \"userId = :userId\",\n    ExpressionAttributeValues: {\n      \":userId\": event.requestContext.identity.cognitoIdentityId\n    }\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"query\", params);\n    return success(result.Items);\n  } catch (e) {\n    return failure({\n      status: false\n    });\n  }\n}","map":{"version":3,"sources":["/Users/dlabbe/Developer/nifty-notes/list.js"],"names":["dynamoDbLib","success","failure","main","event","context","params","TableName","KeyConditionExpression","ExpressionAttributeValues","requestContext","identity","cognitoIdentityId","result","call","Items","e","status"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,qBAA7B;AACA,SAAQC,OAAR,EAAiBC,OAAjB,QAA+B,qBAA/B;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AACvC,QAAMC,MAAM,GAAG;AACXC,IAAAA,SAAS,EAAE,OADA;AAEXC,IAAAA,sBAAsB,EAAE,kBAFb;AAGXC,IAAAA,yBAAyB,EAAE;AACvB,iBAAWL,KAAK,CAACM,cAAN,CAAqBC,QAArB,CAA8BC;AADlB;AAHhB,GAAf;;AAQA,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMb,WAAW,CAACc,IAAZ,CAAiB,OAAjB,EAA0BR,MAA1B,CAArB;AACA,WAAOL,OAAO,CAACY,MAAM,CAACE,KAAR,CAAd;AACH,GAHD,CAGE,OAAOC,CAAP,EAAU;AACR,WAAOd,OAAO,CAAC;AAACe,MAAAA,MAAM,EAAE;AAAT,KAAD,CAAd;AACH;AACJ","sourcesContent":["import * as dynamoDbLib from \"./libs/dynamodb-lib\";\nimport {success, failure} from \"./libs/response-lib\";\n\nexport async function main(event, context) {\n    const params = {\n        TableName: \"notes\",\n        KeyConditionExpression: \"userId = :userId\",\n        ExpressionAttributeValues: {\n            \":userId\": event.requestContext.identity.cognitoIdentityId\n        }\n    };\n\n    try {\n        const result = await dynamoDbLib.call(\"query\", params);\n        return success(result.Items);\n    } catch (e) {\n        return failure({status: false});\n    }\n}\n"]},"metadata":{},"sourceType":"module"}